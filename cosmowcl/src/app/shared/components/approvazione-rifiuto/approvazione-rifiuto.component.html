<!--
 *  Copyright CSI-Piemonte - 2023
 *  SPDX-License-Identifier: GPL-3.0-or-later
-->
<div class="row mb-4" *ngIf="!readOnly && note?.trim().length == 0 && approvazione === false">
  <div class="col-12">
    <p class="alert alert-warning">
      Le note sono obbligatorie in caso di rifiuto
    </p>
  </div>
</div>

<div class="row col-lg-12">
  <div class="col-lg-12 col-sm-12">
    <label for="noteRifiutaPratica" ></label>
    <textarea id="noteRifiutaPratica"
      (focusout)="noteChanged()"
      (keyup)="noteChanged()"
      (change)="noteChanged()"
      [(ngModel)]="note" rows="3" placeholder="Motiva la scelta"
      [disabled]="readOnly"
    ></textarea>
  </div>
</div>

<div class="row">
  <div class="col-12 col-lg-6">
    <div class="" *ngIf="!readOnly">
      <button type="button" style="margin: 5px;" class="btn btn-sm btn-primary btn-action"
        (click)="accetta()"
      >
        <span class="fas fa-thumbs-up mr-2"></span>
        {{siButton ? siButton : 'Accetta'}}
      </button>
      <button type="button" style="margin: 5px;" class="btn btn-sm btn-danger btn-action"
        (click)="rifiuta()"
      >
        <span class="fas fa-thumbs-down mr-2"></span>
        {{noButton ? noButton : 'Rifiuta'}}

      </button>
    </div>
  </div>
  <div class="col-12 col-lg-6 text-right pr-3" *ngIf="!readOnly && !mostraConferma">
    <div *ngIf="approvazione === true" class="text-success">
      <span class="fas fa-check mr-2"></span> stai accettando.
    </div>
    <div *ngIf="approvazione === false" class="text-danger">
      <span class="fas fa-times mr-2"></span> stai rifiutando.
    </div>
  </div>
  <div class="col-12 col-lg-6 text-right pr-3" *ngIf="!readOnly && mostraConferma">
    <div *ngIf="approvazione === true" class="">
      <button type="button" style="margin: 5px;" class="btn btn-sm btn-outline-primary btn-action"
        (click)="conferma()" [disabled]="!abilitaConferma()"
      >
        conferma l' approvazione
      </button>
    </div>
    <div *ngIf="approvazione === false" class="">
      <button type="button" style="margin: 5px;" class="btn btn-sm btn-outline-danger btn-action"
        (click)="conferma()" [disabled]="!abilitaConferma()"
      >
        conferma il rifiuto
      </button>
    </div>
  </div>
</div>
