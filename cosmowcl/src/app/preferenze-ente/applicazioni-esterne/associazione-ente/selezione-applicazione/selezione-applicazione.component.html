<!--
 *  Copyright CSI-Piemonte - 2023
 *  SPDX-License-Identifier: GPL-3.0-or-later
-->
<div class="modal-content">

  <div class="modal-header">
    <h5 class="modal-title">
      <button type="button" class="btn btn-link p-0" data-dismiss="modal"
        (click)="modal.dismiss('click_on_back_arrow')">
        <i class="fas fa-arrow-left"></i>
      </button>
      &nbsp; {{ "app_esterne.seleziona_app_da_aggiungere" | translate }}
    </h5>
    <div *ngIf="helper">
      <app-helper
        [helper] = "helper"
        [type] = "'MODAL'">
      </app-helper>
    </div>
  </div>

  <div class="modal-body">
    <div class="table-responsive mb-4 text-nowrap">
      <cosmo-table #table [tableDisplayClass]="'table table-sm table-hover'" [data]="appNonAssociate"
        [columns]="columns" [enableSelection]="true" [enableSelectAll]="false" [enableMultiSelect]="false"
        [enableSorting]="true" [enablePagination]="true" [paginationMode]="'CLIENT'" [defaultPageSize]="10"
        [possiblePageSize]="[10,20,50,100]" [defaultSortingDirection]="'ASC'" [defaultSortingColumn]="'descrizione'"
        (selectionChange)="selectionChangeHandler($event)">
        <ng-template let-row="row" let-column="column" let-value="value" #cellTemplate>
          <div *ngIf="column.name === 'icona'">
            <img [src]="getLogo(row.icona)" height="35" width="35"/>
          </div>
        </ng-template>

      </cosmo-table>
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn btn-outline-primary btn-sm mr-auto js-reset-btn" type="button" data-dismiss="modal"
      (click)="modal.dismiss('click_on_back')">{{"common.annulla" | translate}}</button>
    <button class="btn btn-primary btn-sm js-hide-when-status js-firma-btn" type="button"
      [disabled]="!appDaAggiungere" (click)="aggiungiApplicazione()">{{"common.seleziona" | translate}}</button>
  </div>
</div>
